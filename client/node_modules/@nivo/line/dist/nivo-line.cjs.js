"use strict";var e=require("react"),o=require("@nivo/core"),i=require("@nivo/colors"),r=require("@nivo/axes"),n=require("@nivo/legends"),t=require("@nivo/tooltip"),a=require("d3-shape"),s=require("@nivo/scales"),l=require("prop-types"),u=require("react/jsx-runtime"),d=require("@react-spring/web"),c=require("@nivo/voronoi");function p(){return p=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var i=arguments[o];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},p.apply(this,arguments)}var h=function(e){var o=e.point;return u.jsx(t.BasicTooltip,{id:u.jsxs("span",{children:["x: ",u.jsx("strong",{children:o.data.xFormatted}),", y:"," ",u.jsx("strong",{children:o.data.yFormatted})]}),enableChip:!0,color:o.serieColor})};h.propTypes={point:l.object.isRequired};var f=e.memo(h),v=function(e){var i=e.slice,r=e.axis,n=o.useTheme(),a="x"===r?"y":"x";return u.jsx(t.TableTooltip,{rows:i.points.map((function(e){return[u.jsx(t.Chip,{color:e.serieColor,style:n.tooltip.chip},"chip"),e.serieId,u.jsx("span",{style:n.tooltip.tableCellValue,children:e.data[a+"Formatted"]},"value")]}))})};v.propTypes={slice:l.object.isRequired,axis:l.oneOf(["x","y"]).isRequired};var m=e.memo(v),b={data:l.arrayOf(l.shape({id:l.oneOfType([l.string,l.number]).isRequired,data:l.arrayOf(l.shape({x:l.oneOfType([l.number,l.string,l.instanceOf(Date)]),y:l.oneOfType([l.number,l.string,l.instanceOf(Date)])})).isRequired})).isRequired,xScale:l.object.isRequired,xFormat:l.oneOfType([l.func,l.string]),yScale:l.object.isRequired,yFormat:l.oneOfType([l.func,l.string]),layers:l.arrayOf(l.oneOfType([l.oneOf(["grid","markers","axes","areas","crosshair","lines","slices","points","mesh","legends"]),l.func])).isRequired,curve:o.lineCurvePropType.isRequired,axisTop:r.axisPropType,axisRight:r.axisPropType,axisBottom:r.axisPropType,axisLeft:r.axisPropType,enableGridX:l.bool.isRequired,enableGridY:l.bool.isRequired,gridXValues:l.oneOfType([l.number,l.arrayOf(l.oneOfType([l.number,l.string,l.instanceOf(Date)]))]),gridYValues:l.oneOfType([l.number,l.arrayOf(l.oneOfType([l.number,l.string,l.instanceOf(Date)]))]),enablePoints:l.bool.isRequired,pointSymbol:l.func,pointSize:l.number.isRequired,pointColor:l.any.isRequired,pointBorderWidth:l.number.isRequired,pointBorderColor:l.any.isRequired,enablePointLabel:l.bool.isRequired,pointLabel:l.oneOfType([l.string,l.func]).isRequired,markers:l.arrayOf(l.shape({axis:l.oneOf(["x","y"]).isRequired,value:l.oneOfType([l.number,l.string,l.instanceOf(Date)]).isRequired,style:l.object})),colors:i.ordinalColorsPropType.isRequired,enableArea:l.bool.isRequired,areaOpacity:l.number.isRequired,areaBlendMode:o.blendModePropType.isRequired,areaBaselineValue:l.oneOfType([l.number,l.string,l.instanceOf(Date)]).isRequired,lineWidth:l.number.isRequired,legends:l.arrayOf(l.shape(n.LegendPropShape)).isRequired,isInteractive:l.bool.isRequired,debugMesh:l.bool.isRequired,tooltip:l.oneOfType([l.func,l.object]).isRequired,enableSlices:l.oneOf(["x","y",!1]).isRequired,debugSlices:l.bool.isRequired,sliceTooltip:l.oneOfType([l.func,l.object]).isRequired,enableCrosshair:l.bool.isRequired,crosshairType:l.string.isRequired},y=p({},b,{enablePointLabel:l.bool.isRequired,role:l.string.isRequired,useMesh:l.bool.isRequired,enableTouchCrosshair:l.bool},o.motionPropTypes,o.defsPropTypes),g=p({pixelRatio:l.number.isRequired},b),x={curve:"linear",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],axisBottom:{},axisLeft:{},enableGridX:!0,enableGridY:!0,enablePoints:!0,pointSize:6,pointColor:{from:"color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enablePointLabel:!1,pointLabel:"yFormatted",colors:{scheme:"nivo"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,areaBlendMode:"normal",lineWidth:2,legends:[],isInteractive:!0,tooltip:f,enableSlices:!1,debugSlices:!1,sliceTooltip:m,debugMesh:!1,enableCrosshair:!0,crosshairType:"bottom-left"},T=p({},x,{enablePointLabel:!1,useMesh:!1,enableTouchCrosshair:!1,animate:!0,motionConfig:"gentle",defs:[],fill:[],role:"img"}),C=p({},x,{pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1}),R=function(i){var r=i.curve;return e.useMemo((function(){return a.line().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y((function(e){return e.y})).curve(o.curveFromProp(r))}),[r])},q=function(i){var r=i.curve,n=i.yScale,t=i.areaBaselineValue;return e.useMemo((function(){return a.area().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y1((function(e){return e.y})).curve(o.curveFromProp(r)).y0(n(t))}),[r,n,t])},M=function(o){var i=o.componentId,r=o.enableSlices,n=o.points,t=o.width,a=o.height;return e.useMemo((function(){if(!1===r)return[];if("x"===r){var e=new Map;return n.forEach((function(o){null!==o.data.x&&null!==o.data.y&&(e.has(o.x)?e.get(o.x).push(o):e.set(o.x,[o]))})),Array.from(e.entries()).sort((function(e,o){return e[0]-o[0]})).map((function(e,o,r){var n,s,l=e[0],u=e[1],d=r[o-1],c=r[o+1];return n=d?l-(l-d[0])/2:l,s=c?l-n+(c[0]-l)/2:t-n,{id:"slice"+i+l,x0:n,x:l,y0:0,y:0,width:s,height:a,points:u.reverse()}}))}if("y"===r){var o=new Map;return n.forEach((function(e){null!==e.data.x&&null!==e.data.y&&(o.has(e.y)?o.get(e.y).push(e):o.set(e.y,[e]))})),Array.from(o.entries()).sort((function(e,o){return e[0]-o[0]})).map((function(e,o,i){var r,n,s=e[0],l=e[1],u=i[o-1],d=i[o+1];return r=u?s-(s-u[0])/2:s,n=d?s-r+(d[0]-s)/2:a-r,{id:s,x0:0,x:0,y0:r,y:s,width:t,height:n,points:l.reverse()}}))}}),[i,r,a,n,t])},S=function(r){var n=r.data,t=r.xScale,a=void 0===t?T.xScale:t,l=r.xFormat,u=r.yScale,d=void 0===u?T.yScale:u,c=r.yFormat,h=r.width,f=r.height,v=r.colors,m=void 0===v?T.colors:v,b=r.curve,y=void 0===b?T.curve:b,g=r.areaBaselineValue,x=void 0===g?T.areaBaselineValue:g,C=r.pointColor,S=void 0===C?T.pointColor:C,O=r.pointBorderColor,k=void 0===O?T.pointBorderColor:O,j=r.enableSlices,w=void 0===j?T.enableSlicesTooltip:j,L=e.useId(),P=o.useValueFormatter(l),E=o.useValueFormatter(c),B=i.useOrdinalColorScale(m,"id"),W=o.useTheme(),G=i.useInheritedColor(S,W),F=i.useInheritedColor(k,W),V=e.useState([]),D=V[0],I=V[1],Y=e.useMemo((function(){return s.computeXYScalesForSeries(n.filter((function(e){return-1===D.indexOf(e.id)})),a,d,h,f)}),[n,D,a,d,h,f]),A=Y.xScale,X=Y.yScale,z=Y.series,H=e.useMemo((function(){var e=n.map((function(e){return{id:e.id,label:e.id,color:B(e)}})),o=e.map((function(e){return p({},z.find((function(o){return o.id===e.id})),{color:e.color})})).filter((function(e){return Boolean(e.id)}));return{legendData:e.map((function(e){return p({},e,{hidden:!o.find((function(o){return o.id===e.id}))})})).reverse(),series:o}}),[n,z,B]),J=H.legendData,K=H.series,N=e.useCallback((function(e){I((function(o){return o.indexOf(e)>-1?o.filter((function(o){return o!==e})):[].concat(o,[e])}))}),[]),Q=function(o){var i=o.series,r=o.getPointColor,n=o.getPointBorderColor,t=o.formatX,a=o.formatY;return e.useMemo((function(){return i.reduce((function(e,o){return[].concat(e,o.data.filter((function(e){return null!==e.position.x&&null!==e.position.y})).map((function(i,s){var l={id:o.id+"."+s,index:e.length+s,serieId:o.id,serieColor:o.color,x:i.position.x,y:i.position.y};return l.color=r(o),l.borderColor=n(l),l.data=p({},i.data,{xFormatted:t(i.data.x),yFormatted:a(i.data.y)}),l})))}),[])}),[i,r,n,t,a])}({series:K,getPointColor:G,getPointBorderColor:F,formatX:P,formatY:E}),U=M({componentId:L,enableSlices:w,points:Q,width:h,height:f});return{legendData:J,toggleSerie:N,lineGenerator:R({curve:y}),areaGenerator:q({curve:y,yScale:X,areaBaselineValue:x}),getColor:B,series:K,xScale:A,yScale:X,slices:U,points:Q}},O=function(e){var i=e.areaBlendMode,r=e.areaOpacity,n=e.color,t=e.fill,a=e.path,s=o.useMotionConfig(),l=s.animate,c=s.config,p=o.useAnimatedPath(a),h=d.useSpring({color:n,config:c,immediate:!l});return u.jsx(d.animated.path,{d:p,fill:t||h.color,fillOpacity:r,strokeWidth:0,style:{mixBlendMode:i}})};O.propTypes={areaBlendMode:o.blendModePropType.isRequired,areaOpacity:l.number.isRequired,color:l.string,fill:l.string,path:l.string.isRequired};var k=function(e){var o=e.areaGenerator,i=e.areaOpacity,r=e.areaBlendMode,n=e.lines.slice(0).reverse();return u.jsx("g",{children:n.map((function(e){return u.jsx(O,p({path:o(e.data.map((function(e){return e.position})))},p({areaOpacity:i,areaBlendMode:r},e)),e.id)}))})};k.propTypes={areaGenerator:l.func.isRequired,areaOpacity:l.number.isRequired,areaBlendMode:o.blendModePropType.isRequired,lines:l.arrayOf(l.object).isRequired};var j=e.memo(k),w=function(i){var r=i.lineGenerator,n=i.points,t=i.color,a=i.thickness,s=e.useMemo((function(){return r(n)}),[r,n]),l=o.useAnimatedPath(s);return u.jsx(d.animated.path,{d:l,fill:"none",strokeWidth:a,stroke:t})};w.propTypes={points:l.arrayOf(l.shape({x:l.oneOfType([l.string,l.number]),y:l.oneOfType([l.string,l.number])})),lineGenerator:l.func.isRequired,color:l.string.isRequired,thickness:l.number.isRequired};var L=e.memo(w),P=function(e){var o=e.lines,i=e.lineGenerator,r=e.lineWidth;return o.slice(0).reverse().map((function(e){var o=e.id,n=e.data,t=e.color;return u.jsx(L,{id:o,points:n.map((function(e){return e.position})),lineGenerator:i,color:t,thickness:r},o)}))};P.propTypes={lines:l.arrayOf(l.shape({id:l.oneOfType([l.string,l.number]).isRequired,color:l.string.isRequired,data:l.arrayOf(l.shape({data:l.shape({x:l.oneOfType([l.string,l.number,l.instanceOf(Date)]),y:l.oneOfType([l.string,l.number,l.instanceOf(Date)])}).isRequired,position:l.shape({x:l.number,y:l.number}).isRequired})).isRequired})).isRequired,lineWidth:l.number.isRequired,lineGenerator:l.func.isRequired};var E=e.memo(P),B=function(o){var i=o.slice,r=o.slices,n=o.axis,a=o.debug,s=o.tooltip,l=o.isCurrent,d=o.setCurrent,c=o.onMouseEnter,p=o.onMouseMove,h=o.onMouseLeave,f=o.onClick,v=o.onTouchStart,m=o.onTouchMove,b=o.onTouchEnd,y=t.useTooltip(),g=y.showTooltipFromEvent,x=y.hideTooltip,T=e.useCallback((function(o){g(e.createElement(s,{slice:i,axis:n}),o,"right"),d(i),c&&c(i,o)}),[g,s,i,n,d,c]),C=e.useCallback((function(o){g(e.createElement(s,{slice:i,axis:n}),o,"right"),p&&p(i,o)}),[g,s,i,n,p]),R=e.useCallback((function(e){x(),d(null),h&&h(i,e)}),[x,d,h,i]),q=e.useCallback((function(e){f&&f(i,e)}),[i,f]),M=e.useCallback((function(o){g(e.createElement(s,{slice:i,axis:n}),o,"right"),d(i),v&&v(i,o)}),[n,v,d,g,i,s]),S=e.useCallback((function(o){var t=o.touches[0],a=document.elementFromPoint(t.clientX,t.clientY),l=null==a?void 0:a.getAttribute("data-ref");if(l){var u=r.find((function(e){return e.id===l}));u&&(g(e.createElement(s,{slice:u,axis:n}),o,"right"),d(u))}m&&m(i,o)}),[n,m,d,g,i,r,s]),O=e.useCallback((function(e){x(),d(null),b&&b(i,e)}),[x,d,b,i]);return u.jsx("rect",{x:i.x0,y:i.y0,width:i.width,height:i.height,stroke:"red",strokeWidth:a?1:0,strokeOpacity:.75,fill:"red",fillOpacity:l&&a?.35:0,onMouseEnter:T,onMouseMove:C,onMouseLeave:R,onClick:q,onTouchStart:M,onTouchMove:S,onTouchEnd:O,"data-ref":i.id})};B.propTypes={slice:l.object.isRequired,slices:l.arrayOf(l.object).isRequired,axis:l.oneOf(["x","y"]).isRequired,debug:l.bool.isRequired,height:l.number.isRequired,tooltip:l.oneOfType([l.func,l.object]),isCurrent:l.bool.isRequired,setCurrent:l.func.isRequired,onMouseEnter:l.func,onMouseMove:l.func,onMouseLeave:l.func,onClick:l.func};var W=e.memo(B),G=function(e){var o=e.slices,i=e.axis,r=e.debug,n=e.height,t=e.tooltip,a=e.current,s=e.setCurrent,l=e.onMouseEnter,d=e.onMouseMove,c=e.onMouseLeave,p=e.onClick,h=e.onTouchStart,f=e.onTouchMove,v=e.onTouchEnd;return o.map((function(e){return u.jsx(W,{slice:e,slices:o,axis:i,debug:r,height:n,tooltip:t,setCurrent:s,isCurrent:null!==a&&a.id===e.id,onMouseEnter:l,onMouseMove:d,onMouseLeave:c,onClick:p,onTouchStart:h,onTouchMove:f,onTouchEnd:v},e.id)}))};G.propTypes={slices:l.arrayOf(l.shape({id:l.oneOfType([l.number,l.string,l.instanceOf(Date)]).isRequired,x:l.number.isRequired,y:l.number.isRequired,points:l.arrayOf(l.object).isRequired})).isRequired,axis:l.oneOf(["x","y"]).isRequired,debug:l.bool.isRequired,height:l.number.isRequired,tooltip:l.oneOfType([l.func,l.object]).isRequired,current:l.object,setCurrent:l.func.isRequired,onMouseEnter:l.func,onMouseMove:l.func,onMouseLeave:l.func,onClick:l.func,onTouchStart:l.func,onTouchMove:l.func,onTouchEnd:l.func};var F=e.memo(G),V=function(e){var i=e.points,r=e.symbol,n=e.size,t=e.borderWidth,a=e.enableLabel,s=e.label,l=e.labelYOffset,d=o.useTheme(),c=o.getLabelGenerator(s),p=i.slice(0).reverse().map((function(e){return{id:e.id,x:e.x,y:e.y,datum:e.data,fill:e.color,stroke:e.borderColor,label:a?c(e.data):null}}));return u.jsx("g",{children:p.map((function(e){return u.jsx(o.DotsItem,{x:e.x,y:e.y,datum:e.datum,symbol:r,size:n,color:e.fill,borderWidth:t,borderColor:e.stroke,label:e.label,labelYOffset:l,theme:d},e.id)}))})};V.propTypes={points:l.arrayOf(l.object),symbol:l.func,size:l.number.isRequired,color:l.func.isRequired,borderWidth:l.number.isRequired,borderColor:l.func.isRequired,enableLabel:l.bool.isRequired,label:l.oneOfType([l.string,l.func]).isRequired,labelYOffset:l.number};var D=e.memo(V),I=function(o){var i=o.points,r=o.width,n=o.height,a=o.margin,s=o.setCurrent,l=o.onMouseEnter,d=o.onMouseMove,p=o.onMouseLeave,h=o.onClick,f=o.onTouchStart,v=o.onTouchMove,m=o.onTouchEnd,b=o.tooltip,y=o.debug,g=o.enableTouchCrosshair,x=t.useTooltip(),T=x.showTooltipAt,C=x.hideTooltip,R=e.useCallback((function(o,i){T(e.createElement(b,{point:o}),[o.x+a.left,o.y+a.top],"top"),s(o),l&&l(o,i)}),[s,T,b,l,a]),q=e.useCallback((function(o,i){T(e.createElement(b,{point:o}),[o.x+a.left,o.y+a.top],"top"),s(o),d&&d(o,i)}),[T,b,a.left,a.top,s,d]),M=e.useCallback((function(e,o){C(),s(null),p&&p(e,o)}),[C,s,p]),S=e.useCallback((function(e,o){h&&h(e,o)}),[h]),O=e.useCallback((function(o,i){T(e.createElement(b,{point:o}),[o.x+a.left,o.y+a.top],"top"),s(o),f&&f(o,i)}),[a.left,a.top,f,s,T,b]),k=e.useCallback((function(o,i){T(e.createElement(b,{point:o}),[o.x+a.left,o.y+a.top],"top"),s(o),v&&v(o,i)}),[a.left,a.top,v,s,T,b]),j=e.useCallback((function(e,o){C(),s(null),m&&m(e,o)}),[m,C,s]);return u.jsx(c.Mesh,{nodes:i,width:r,height:n,onMouseEnter:R,onMouseMove:q,onMouseLeave:M,onClick:S,onTouchStart:O,onTouchMove:k,onTouchEnd:j,enableTouchCrosshair:g,debug:y})};I.propTypes={points:l.arrayOf(l.object).isRequired,width:l.number.isRequired,height:l.number.isRequired,margin:l.object.isRequired,setCurrent:l.func.isRequired,onMouseEnter:l.func,onMouseMove:l.func,onMouseLeave:l.func,onClick:l.func,onTouchStart:l.func,onTouchMove:l.func,onTouchEnd:l.func,tooltip:l.oneOfType([l.func,l.object]).isRequired,debug:l.bool.isRequired};var Y=e.memo(I),A=function(a){var s=a.data,l=a.xScale,d=void 0===l?{type:"point"}:l,c=a.xFormat,h=a.yScale,v=void 0===h?{type:"linear",min:0,max:"auto"}:h,b=a.yFormat,y=a.layers,g=void 0===y?["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"]:y,x=a.curve,T=void 0===x?"linear":x,C=a.areaBaselineValue,R=void 0===C?0:C,q=a.colors,M=void 0===q?{scheme:"nivo"}:q,O=a.margin,k=a.width,w=a.height,L=a.axisTop,P=a.axisRight,B=a.axisBottom,W=void 0===B?{}:B,G=a.axisLeft,V=void 0===G?{}:G,I=a.enableGridX,A=void 0===I||I,X=a.enableGridY,z=void 0===X||X,H=a.gridXValues,J=a.gridYValues,K=a.lineWidth,N=void 0===K?2:K,Q=a.enableArea,U=void 0!==Q&&Q,Z=a.areaOpacity,$=void 0===Z?.2:Z,_=a.areaBlendMode,ee=void 0===_?"normal":_,oe=a.enablePoints,ie=void 0===oe||oe,re=a.pointSymbol,ne=a.pointSize,te=void 0===ne?6:ne,ae=a.pointColor,se=void 0===ae?{from:"color"}:ae,le=a.pointBorderWidth,ue=void 0===le?0:le,de=a.pointBorderColor,ce=void 0===de?{theme:"background"}:de,pe=a.enablePointLabel,he=void 0!==pe&&pe,fe=a.pointLabel,ve=void 0===fe?"yFormatted":fe,me=a.pointLabelYOffset,be=a.defs,ye=void 0===be?[]:be,ge=a.fill,xe=void 0===ge?[]:ge,Te=a.markers,Ce=a.legends,Re=void 0===Ce?[]:Ce,qe=a.isInteractive,Me=void 0===qe||qe,Se=a.useMesh,Oe=void 0!==Se&&Se,ke=a.debugMesh,je=void 0!==ke&&ke,we=a.onMouseEnter,Le=a.onMouseMove,Pe=a.onMouseLeave,Ee=a.onClick,Be=a.onTouchStart,We=a.onTouchMove,Ge=a.onTouchEnd,Fe=a.tooltip,Ve=void 0===Fe?f:Fe,De=a.enableSlices,Ie=void 0!==De&&De,Ye=a.debugSlices,Ae=void 0!==Ye&&Ye,Xe=a.sliceTooltip,ze=void 0===Xe?m:Xe,He=a.enableCrosshair,Je=void 0===He||He,Ke=a.crosshairType,Ne=void 0===Ke?"bottom-left":Ke,Qe=a.enableTouchCrosshair,Ue=void 0!==Qe&&Qe,Ze=a.role,$e=void 0===Ze?"img":Ze,_e=o.useDimensions(k,w,O),eo=_e.margin,oo=_e.innerWidth,io=_e.innerHeight,ro=_e.outerWidth,no=_e.outerHeight,to=S({data:s,xScale:d,xFormat:c,yScale:v,yFormat:b,width:oo,height:io,colors:M,curve:T,areaBaselineValue:R,pointColor:se,pointBorderColor:ce,enableSlices:Ie}),ao=to.legendData,so=to.toggleSerie,lo=to.lineGenerator,uo=to.areaGenerator,co=to.series,po=to.xScale,ho=to.yScale,fo=to.slices,vo=to.points,mo=o.useTheme(),bo=i.useInheritedColor(se,mo),yo=i.useInheritedColor(ce,mo),go=e.useState(null),xo=go[0],To=go[1],Co=e.useState(null),Ro=Co[0],qo=Co[1],Mo={grid:u.jsx(r.Grid,{theme:mo,width:oo,height:io,xScale:A?po:null,yScale:z?ho:null,xValues:H,yValues:J},"grid"),markers:u.jsx(o.CartesianMarkers,{markers:Te,width:oo,height:io,xScale:po,yScale:ho,theme:mo},"markers"),axes:u.jsx(r.Axes,{xScale:po,yScale:ho,width:oo,height:io,theme:mo,top:L,right:P,bottom:W,left:V},"axes"),areas:null,lines:u.jsx(E,{lines:co,lineGenerator:lo,lineWidth:N},"lines"),slices:null,points:null,crosshair:null,mesh:null,legends:Re.map((function(e,o){return u.jsx(n.BoxLegendSvg,p({},e,{containerWidth:oo,containerHeight:io,data:e.data||ao,theme:mo,toggleSerie:e.toggleSerie?so:void 0}),"legend."+o)}))},So=o.bindDefs(ye,co,xe);return U&&(Mo.areas=u.jsx(j,{areaGenerator:uo,areaOpacity:$,areaBlendMode:ee,lines:co},"areas")),Me&&!1!==Ie&&(Mo.slices=u.jsx(F,{slices:fo,axis:Ie,debug:Ae,height:io,tooltip:ze,current:Ro,setCurrent:qo,onMouseEnter:we,onMouseMove:Le,onMouseLeave:Pe,onClick:Ee,onTouchStart:Be,onTouchMove:We,onTouchEnd:Ge},"slices")),ie&&(Mo.points=u.jsx(D,{points:vo,symbol:re,size:te,color:bo,borderWidth:ue,borderColor:yo,enableLabel:he,label:ve,labelYOffset:me},"points")),Me&&Je&&(null!==xo&&(Mo.crosshair=u.jsx(t.Crosshair,{width:oo,height:io,x:xo.x,y:xo.y,type:Ne},"crosshair")),null!==Ro&&(Mo.crosshair=u.jsx(t.Crosshair,{width:oo,height:io,x:Ro.x,y:Ro.y,type:Ie},"crosshair"))),Me&&Oe&&!1===Ie&&(Mo.mesh=u.jsx(Y,{points:vo,width:oo,height:io,margin:eo,current:xo,setCurrent:To,onMouseEnter:we,onMouseMove:Le,onMouseLeave:Pe,onClick:Ee,onTouchStart:Be,onTouchMove:We,onTouchEnd:Ge,tooltip:Ve,enableTouchCrosshair:Ue,debug:je},"mesh")),u.jsx(o.SvgWrapper,{defs:So,width:ro,height:no,margin:eo,role:$e,children:g.map((function(o,i){return"function"==typeof o?u.jsx(e.Fragment,{children:o(p({},a,{innerWidth:oo,innerHeight:io,series:co,slices:fo,points:vo,xScale:po,yScale:ho,lineGenerator:lo,areaGenerator:uo,currentPoint:xo,setCurrentPoint:To,currentSlice:Ro,setCurrentSlice:qo}))},i):Mo[o]}))})};A.propTypes=y;var X=o.withContainer(A),z=function(i){var a=e.useRef(null),s=i.width,l=i.height,d=i.margin,h=i.pixelRatio,v=void 0===h?"undefined"!=typeof window&&window.devicePixelRatio||1:h,m=i.data,b=i.xScale,y=void 0===b?{type:"point"}:b,g=i.xFormat,x=i.yScale,T=void 0===x?{type:"linear",min:0,max:"auto"}:x,C=i.yFormat,R=i.curve,q=void 0===R?"linear":R,M=i.layers,O=void 0===M?["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"]:M,k=i.colors,j=void 0===k?{scheme:"nivo"}:k,w=i.lineWidth,L=void 0===w?2:w,P=i.enableArea,E=void 0!==P&&P,B=i.areaBaselineValue,W=void 0===B?0:B,G=i.areaOpacity,F=void 0===G?.2:G,V=i.enablePoints,D=void 0===V||V,I=i.pointSize,Y=void 0===I?6:I,A=i.pointColor,X=void 0===A?{from:"color"}:A,z=i.pointBorderWidth,H=void 0===z?0:z,J=i.pointBorderColor,K=void 0===J?{theme:"background"}:J,N=i.enableGridX,Q=void 0===N||N,U=i.gridXValues,Z=i.enableGridY,$=void 0===Z||Z,_=i.gridYValues,ee=i.axisTop,oe=i.axisRight,ie=i.axisBottom,re=void 0===ie?{}:ie,ne=i.axisLeft,te=void 0===ne?{}:ne,ae=i.legends,se=void 0===ae?[]:ae,le=i.isInteractive,ue=void 0===le||le,de=i.debugMesh,ce=void 0!==de&&de,pe=i.onMouseLeave,he=i.onClick,fe=i.tooltip,ve=void 0===fe?f:fe,me=i.canvasRef,be=o.useDimensions(s,l,d),ye=be.margin,ge=be.innerWidth,xe=be.innerHeight,Te=be.outerWidth,Ce=be.outerHeight,Re=o.useTheme(),qe=e.useState(null),Me=qe[0],Se=qe[1],Oe=S({data:m,xScale:y,xFormat:g,yScale:T,yFormat:C,width:ge,height:xe,colors:j,curve:q,areaBaselineValue:W,pointColor:X,pointBorderColor:K}),ke=Oe.lineGenerator,je=Oe.areaGenerator,we=Oe.series,Le=Oe.xScale,Pe=Oe.yScale,Ee=Oe.points,Be=c.useVoronoiMesh({points:Ee,width:ge,height:xe,debug:ce}),We=Be.delaunay,Ge=Be.voronoi;e.useEffect((function(){me&&(me.current=a.current),a.current.width=Te*v,a.current.height=Ce*v;var e=a.current.getContext("2d");e.scale(v,v),e.fillStyle=Re.background,e.fillRect(0,0,Te,Ce),e.translate(ye.left,ye.top),O.forEach((function(o){if("function"==typeof o&&o({ctx:e,innerWidth:ge,innerHeight:xe,series:we,points:Ee,xScale:Le,yScale:Pe,lineWidth:L,lineGenerator:ke,areaGenerator:je,currentPoint:Me,setCurrentPoint:Se}),"grid"===o&&Re.grid.line.strokeWidth>0&&(e.lineWidth=Re.grid.line.strokeWidth,e.strokeStyle=Re.grid.line.stroke,Q&&r.renderGridLinesToCanvas(e,{width:ge,height:xe,scale:Le,axis:"x",values:U}),$&&r.renderGridLinesToCanvas(e,{width:ge,height:xe,scale:Pe,axis:"y",values:_})),"axes"===o&&r.renderAxesToCanvas(e,{xScale:Le,yScale:Pe,width:ge,height:xe,top:ee,right:oe,bottom:re,left:te,theme:Re}),"areas"===o&&!0===E&&(e.save(),e.globalAlpha=F,je.context(e),we.forEach((function(o){e.fillStyle=o.color,e.beginPath(),je(o.data.map((function(e){return e.position}))),e.fill()})),e.restore()),"lines"===o&&(ke.context(e),we.forEach((function(o){e.strokeStyle=o.color,e.lineWidth=L,e.beginPath(),ke(o.data.map((function(e){return e.position}))),e.stroke()}))),"points"===o&&!0===D&&Y>0&&Ee.forEach((function(o){e.fillStyle=o.color,e.beginPath(),e.arc(o.x,o.y,Y/2,0,2*Math.PI),e.fill(),H>0&&(e.strokeStyle=o.borderColor,e.lineWidth=H,e.stroke())})),"mesh"===o&&!0===ce&&(c.renderVoronoiToCanvas(e,Ge),Me&&c.renderVoronoiCellToCanvas(e,Ge,Me.index)),"legends"===o){var i=we.map((function(e){return{id:e.id,label:e.id,color:e.color}})).reverse();se.forEach((function(o){n.renderLegendToCanvas(e,p({},o,{data:o.data||i,containerWidth:ge,containerHeight:xe,theme:Re}))}))}}))}),[a,Te,Ce,O,Re,ke,we,Le,Pe,Q,U,$,_,ee,oe,re,te,se,Ee,D,Y,Me]);var Fe=e.useCallback((function(e){var i=o.getRelativeCursor(a.current,e),r=i[0],n=i[1];if(!o.isCursorInRect(ye.left,ye.top,ge,xe,r,n))return null;var t=We.find(r-ye.left,n-ye.top);return Ee[t]}),[a,ye,ge,xe,We]),Ve=t.useTooltip(),De=Ve.showTooltipFromEvent,Ie=Ve.hideTooltip,Ye=e.useCallback((function(o){var i=Fe(o);Se(i),i?De(e.createElement(ve,{point:i}),o):Ie()}),[Fe,Se,De,Ie,ve]),Ae=e.useCallback((function(e){Ie(),Se(null),Me&&pe&&pe(Me,e)}),[Ie,Se,pe]),Xe=e.useCallback((function(e){if(he){var o=Fe(e);o&&he(o,e)}}),[Fe,he]);return u.jsx("canvas",{ref:a,width:Te*v,height:Ce*v,style:{width:Te,height:Ce,cursor:ue?"auto":"normal"},onMouseEnter:ue?Ye:void 0,onMouseMove:ue?Ye:void 0,onMouseLeave:ue?Ae:void 0,onClick:ue?Xe:void 0})};z.propTypes=g;var H=o.withContainer(z),J=e.forwardRef((function(e,o){return u.jsx(H,p({},e,{canvasRef:o}))})),K=e.forwardRef((function(e,i){return u.jsx(o.ResponsiveWrapper,{children:function(o){var r=o.width,n=o.height;return u.jsx(J,p({width:r,height:n},e,{ref:i}))}})}));exports.Line=X,exports.LineCanvas=J,exports.LineCanvasDefaultProps=C,exports.LineCanvasPropTypes=g,exports.LineDefaultProps=T,exports.LinePropTypes=y,exports.ResponsiveLine=function(e){return u.jsx(o.ResponsiveWrapper,{children:function(o){var i=o.width,r=o.height;return u.jsx(X,p({width:i,height:r},e))}})},exports.ResponsiveLineCanvas=K,exports.useAreaGenerator=q,exports.useLine=S,exports.useLineGenerator=R,exports.useSlices=M;
//# sourceMappingURL=nivo-line.cjs.js.map
